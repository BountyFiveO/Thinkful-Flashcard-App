{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";//--------------START IMPORTS-----------------\nimport React from\"react\";import{Link,useHistory}from\"react-router-dom\";import DeckForm from\"./DeckForm\";import{createDeck}from\"../../utils/api/index\";//--------------END IMPORTS-----------------\n//--------------START FUNCTION AND COMPONENTS-----------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateDeck(){// assign history variable to useHistory hook and create a function called handleSubmit.\n// The handleSubmit function will call the createDeck function from the api/index.js file.\n// The handleSubmit function will also push the user to the deck that was just created.\nvar history=useHistory();function handleSubmit(deck){var abortController=new AbortController();// abortController is used to abort the fetch request if the user navigates away from the page before the fetch request is complete.\nfunction callCreateDeck(){return _callCreateDeck.apply(this,arguments);}function _callCreateDeck(){_callCreateDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var deckInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createDeck(deck,abortController.signal);case 3:deckInfo=_context.sent;// the deckInfo variable will be assigned to the response from the createDeck function.\nhistory.push(\"/decks/\".concat(deckInfo.id));// the user will be pushed to the deck that was just created.\n_context.next=14;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=13;break;}// if the fetch request is aborted, then the console will log \"aborted\".\nconsole.info(\"aborted\");//console.log the aborted error message.\n_context.next=14;break;case 13:throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _callCreateDeck.apply(this,arguments);}callCreateDeck();// call the callCreateDeck function.\n// the useEffect hook will return a function that will abort the fetch request if the user navigates away from the page before the fetch request is complete.\nreturn function(){abortController.abort();};}// create a function called handleCancel that will push the user to the home page.\nfunction handleCancel(){history.push(\"/\");}//--------------START RETURN-----------------\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Create Deck\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Create Deck\"}),/*#__PURE__*/_jsx(DeckForm,{handleSubmit:handleSubmit,handleCancel:handleCancel})]});//--------------END RETURN-----------------\n}//--------------END FUNCTION AND COMPONENTS-----------------\n//--------------EXPORT CreateDeck-----------------\nexport default CreateDeck;","map":{"version":3,"names":["React","Link","useHistory","DeckForm","createDeck","CreateDeck","history","handleSubmit","deck","abortController","AbortController","callCreateDeck","signal","deckInfo","push","id","name","console","info","abort","handleCancel"],"sources":["C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/src/Layout/Decks/CreateDeck.js"],"sourcesContent":["//--------------START IMPORTS-----------------\r\n\r\nimport React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport DeckForm from \"./DeckForm\";\r\nimport { createDeck } from \"../../utils/api/index\";\r\n//--------------END IMPORTS-----------------\r\n\r\n//--------------START FUNCTION AND COMPONENTS-----------------\r\nfunction CreateDeck() {\r\n\t// assign history variable to useHistory hook and create a function called handleSubmit.\r\n\t// The handleSubmit function will call the createDeck function from the api/index.js file.\r\n\t// The handleSubmit function will also push the user to the deck that was just created.\r\n\tconst history = useHistory();\r\n\tfunction handleSubmit(deck) {\r\n\t\tconst abortController = new AbortController(); // abortController is used to abort the fetch request if the user navigates away from the page before the fetch request is complete.\r\n\r\n\t\tasync function callCreateDeck() {\r\n\t\t\t// an async callCreateDeck function will call the createDeck function from the api/index.js file.\r\n\t\t\ttry {\r\n\t\t\t\tconst deckInfo = await createDeck(deck, abortController.signal); // the deckInfo variable will be assigned to the response from the createDeck function.\r\n\t\t\t\thistory.push(`/decks/${deckInfo.id}`); // the user will be pushed to the deck that was just created.\r\n\t\t\t} catch (err) {\r\n\t\t\t\t// if the user navigates away from the page before the fetch request is complete, then the abortController will abort the fetch request.\r\n\t\t\t\tif (err.name === \"AbortError\") {\r\n\t\t\t\t\t// if the fetch request is aborted, then the console will log \"aborted\".\r\n\t\t\t\t\tconsole.info(\"aborted\"); //console.log the aborted error message.\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// if the fetch request is not aborted, but is still an error, then the error will be thrown.\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcallCreateDeck(); // call the callCreateDeck function.\r\n\t\t// the useEffect hook will return a function that will abort the fetch request if the user navigates away from the page before the fetch request is complete.\r\n\t\treturn () => {\r\n\t\t\tabortController.abort();\r\n\t\t};\r\n\t}\r\n\t// create a function called handleCancel that will push the user to the home page.\r\n\tfunction handleCancel() {\r\n\t\thistory.push(\"/\");\r\n\t}\r\n\r\n\t//--------------START RETURN-----------------\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* breadcrumb navigation, ordered list, list items, links, and buttons */}\r\n\t\t\t<nav aria-label=\"breadcrumb\">\r\n\t\t\t\t<ol className=\"breadcrumb\">\r\n\t\t\t\t\t<li className=\"breadcrumb-item\">\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<span className=\"oi oi-home\"></span> Home\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName=\"breadcrumb-item active\"\r\n\t\t\t\t\t\taria-current=\"page\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate Deck\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ol>\r\n\t\t\t</nav>\r\n\t\t\t<h1>Create Deck</h1>\r\n\t\t\t<DeckForm\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\thandleCancel={handleCancel}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n\t//--------------END RETURN-----------------\r\n}\r\n//--------------END FUNCTION AND COMPONENTS-----------------\r\n\r\n//--------------EXPORT CreateDeck-----------------\r\nexport default CreateDeck;\r\n"],"mappings":"wSAAA;AAEA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CACnD,MAAOC,SAAQ,KAAM,YAAY,CACjC,OAASC,UAAU,KAAQ,uBAAuB,CAClD;AAEA;AAAA,wFACA,QAASC,WAAU,EAAG,CACrB;AACA;AACA;AACA,GAAMC,QAAO,CAAGJ,UAAU,EAAE,CAC5B,QAASK,aAAY,CAACC,IAAI,CAAE,CAC3B,GAAMC,gBAAe,CAAG,GAAIC,gBAAe,EAAE,CAAE;AAAA,QAEhCC,eAAc,sJAA7B,wLAGyBP,WAAU,CAACI,IAAI,CAAEC,eAAe,CAACG,MAAM,CAAC,QAAzDC,QAAQ,eAAmD;AACjEP,OAAO,CAACQ,IAAI,kBAAWD,QAAQ,CAACE,EAAE,EAAG,CAAE;AAAA,oFAGnC,YAAIC,IAAI,GAAK,YAAY,2BAC5B;AACAC,OAAO,CAACC,IAAI,CAAC,SAAS,CAAC,CAAE;AAAA,qHAM3B,iDACDP,cAAc,EAAE,CAAE;AAClB;AACA,MAAO,WAAM,CACZF,eAAe,CAACU,KAAK,EAAE,CACxB,CAAC,CACF,CACA;AACA,QAASC,aAAY,EAAG,CACvBd,OAAO,CAACQ,IAAI,CAAC,GAAG,CAAC,CAClB,CAEA;AACA,mBACC,oCAEC,YAAK,aAAW,YAAY,uBAC3B,YAAI,SAAS,CAAC,YAAY,wBACzB,WAAI,SAAS,CAAC,iBAAiB,uBAC9B,MAAC,IAAI,EAAC,EAAE,CAAC,GAAG,wBACX,aAAM,SAAS,CAAC,YAAY,EAAQ,QACrC,GAAO,EACH,cACL,WACC,SAAS,CAAC,wBAAwB,CAClC,eAAa,MAAM,UACnB,aAED,EAAK,GACD,EACA,cACN,oBAAI,aAAW,EAAK,cACpB,KAAC,QAAQ,EACR,YAAY,CAAEP,YAAa,CAC3B,YAAY,CAAEa,YAAa,EAC1B,GACG,CAEP;AACD,CACA;AAEA;AACA,cAAef,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}