{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//-------------------START IMPORTS-----------------\nimport React,{useState,useEffect,useCallback}from\"react\";import{Link,useParams,useHistory,useRouteMatch}from\"react-router-dom\";import{readDeck,deleteDeck,deleteCard}from\"../../utils/api\";import classNames from\"../../utils/class-names\";import NotFound from\"../NotFound\";import CardList from\"../Cards/CardList\";import\"../../data/db.json\";//-------------------END IMPORTS-----------------\n//-------------------START FUNCTION AND COMPONENTS-----------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeckDetails(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deckInfo=_useState2[0],setDeckInfo=_useState2[1];var _useParams=useParams(),deckId=_useParams.deckId;var name=deckInfo.name,description=deckInfo.description;var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var history=useHistory();//Set placeholder for deck name before it's loaded\nvar navName=name?name:\"View Deck\";//Loads deck information. If deck isn't found, display not found\nvar getDeckDetails=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var deck;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:deck=_context.sent;setDeckInfo(deck);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setDeckInfo({name:\"Not Found\"});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[deckId]);//Load deck information on any change to deck id.\n//getDeckDetails is required as a dependancy since it is defined outside useEffect\nuseEffect(function(){getDeckDetails();},[deckId,getDeckDetails]);//Deletes card and re-loads deck information\nfunction deleteHandler(_x){return _deleteHandler.apply(this,arguments);}//Handle incorrect deckId\nfunction _deleteHandler(){_deleteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Delete this card?\\n\\nYou will not be able to recover it.\")){_context2.next=4;break;}_context2.next=3;return deleteCard(id);case 3:getDeckDetails();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteHandler.apply(this,arguments);}if(name===\"Not Found\")return/*#__PURE__*/_jsx(NotFound,{});//Deletes deck and goes back to home page\nfunction handleDeleteDeck(){return _handleDeleteDeck.apply(this,arguments);}//-------------------START RETURN-----------------\nfunction _handleDeleteDeck(){_handleDeleteDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!window.confirm(\"Delete this deck?\\n\\nYou will not be able to recover it.\")){_context3.next=4;break;}_context3.next=3;return deleteDeck(deckId);case 3:history.push(\"/\");case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _handleDeleteDeck.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:navName})]})}),/*#__PURE__*/_jsx(\"h3\",{className:classNames({\"animated-bg animated-bg-text\":!name}),children:name}),/*#__PURE__*/_jsx(\"p\",{className:classNames({\"animated-bg animated-bg-text\":!name}),children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"deck-card-buttons\",children:[/*#__PURE__*/_jsxs(Link,{className:classNames({btn:true,\"btn-secondary\":true,disabled:!name}),to:\"\".concat(url,\"/edit\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-pencil\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(Link,{className:classNames({btn:true,\"btn-primary\":true,disabled:!name}),to:\"\".concat(url,\"/study\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-book\"}),\" Study\"]}),/*#__PURE__*/_jsxs(Link,{className:classNames({btn:true,\"btn-primary\":true,disabled:!name}),to:\"\".concat(url,\"/cards/new\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-plus\"}),\" Add Cards\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger delete-deck\",onClick:handleDeleteDeck,disabled:!name,children:/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-trash\"})})]}),/*#__PURE__*/_jsx(CardList,{deck:deckInfo,deleteHandler:deleteHandler})]});// -------------------END RETURN-----------------\n}//-------------------END FUNCTION AND COMPONENTS-----------------\n//-------------------EXPORT DeckDetails-----------------\nexport default DeckDetails;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useParams","useHistory","useRouteMatch","readDeck","deleteDeck","deleteCard","classNames","NotFound","CardList","DeckDetails","deckInfo","setDeckInfo","deckId","name","description","url","history","navName","getDeckDetails","deck","deleteHandler","id","window","confirm","handleDeleteDeck","push","btn","disabled"],"sources":["C:/Users/bount/Documents/GitHub/Thinkful-Flashcard-App/src/Layout/Decks/DeckDetails.js"],"sourcesContent":["//-------------------START IMPORTS-----------------\r\n\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Link, useParams, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { readDeck, deleteDeck, deleteCard } from \"../../utils/api\";\r\nimport classNames from \"../../utils/class-names\";\r\nimport NotFound from \"../NotFound\";\r\nimport CardList from \"../Cards/CardList\";\r\nimport \"../../data/db.json\";\r\n//-------------------END IMPORTS-----------------\r\n\r\n//-------------------START FUNCTION AND COMPONENTS-----------------\r\nfunction DeckDetails() {\r\n\tconst [deckInfo, setDeckInfo] = useState({});\r\n\tconst { deckId } = useParams();\r\n\tconst { name, description } = deckInfo;\r\n\tconst { url } = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\t//Set placeholder for deck name before it's loaded\r\n\tconst navName = name ? name : \"View Deck\";\r\n\r\n\t//Loads deck information. If deck isn't found, display not found\r\n\tconst getDeckDetails = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\tconst deck = await readDeck(deckId);\r\n\t\t\tsetDeckInfo(deck);\r\n\t\t} catch (error) {\r\n\t\t\tsetDeckInfo({ name: \"Not Found\" });\r\n\t\t}\r\n\t}, [deckId]);\r\n\r\n\t//Load deck information on any change to deck id.\r\n\t//getDeckDetails is required as a dependancy since it is defined outside useEffect\r\n\tuseEffect(() => {\r\n\t\tgetDeckDetails();\r\n\t}, [deckId, getDeckDetails]);\r\n\r\n\t//Deletes card and re-loads deck information\r\n\tasync function deleteHandler(id) {\r\n\t\tif (\r\n\t\t\twindow.confirm(\"Delete this card?\\n\\nYou will not be able to recover it.\")\r\n\t\t) {\r\n\t\t\tawait deleteCard(id);\r\n\t\t\tgetDeckDetails();\r\n\t\t}\r\n\t}\r\n\r\n\t//Handle incorrect deckId\r\n\tif (name === \"Not Found\") return <NotFound />;\r\n\r\n\t//Deletes deck and goes back to home page\r\n\tasync function handleDeleteDeck() {\r\n\t\tif (\r\n\t\t\twindow.confirm(\"Delete this deck?\\n\\nYou will not be able to recover it.\")\r\n\t\t) {\r\n\t\t\tawait deleteDeck(deckId);\r\n\t\t\thistory.push(\"/\");\r\n\t\t}\r\n\t}\r\n\r\n\t//-------------------START RETURN-----------------\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* These html elements and classes are the same as the other files.. comments for code is the same */}\r\n\t\t\t<nav aria-label=\"breadcrumb\">\r\n\t\t\t\t<ol className=\"breadcrumb\">\r\n\t\t\t\t\t<li className=\"breadcrumb-item\">\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<span className=\"oi oi-home\"></span> Home\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName=\"breadcrumb-item active\"\r\n\t\t\t\t\t\taria-current=\"page\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{navName}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ol>\r\n\t\t\t</nav>\r\n\t\t\t<h3 className={classNames({ \"animated-bg animated-bg-text\": !name })}>\r\n\t\t\t\t{name}\r\n\t\t\t</h3>\r\n\t\t\t<p className={classNames({ \"animated-bg animated-bg-text\": !name })}>\r\n\t\t\t\t{description}\r\n\t\t\t</p>\r\n\t\t\t<div className=\"deck-card-buttons\">\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName={classNames({\r\n\t\t\t\t\t\tbtn: true,\r\n\t\t\t\t\t\t\"btn-secondary\": true,\r\n\t\t\t\t\t\tdisabled: !name,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tto={`${url}/edit`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"oi oi-pencil\"></span> Edit\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName={classNames({\r\n\t\t\t\t\t\tbtn: true,\r\n\t\t\t\t\t\t\"btn-primary\": true,\r\n\t\t\t\t\t\tdisabled: !name,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tto={`${url}/study`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"oi oi-book\"></span> Study\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName={classNames({\r\n\t\t\t\t\t\tbtn: true,\r\n\t\t\t\t\t\t\"btn-primary\": true,\r\n\t\t\t\t\t\tdisabled: !name,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tto={`${url}/cards/new`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"oi oi-plus\"></span> Add Cards\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-danger delete-deck\"\r\n\t\t\t\t\tonClick={handleDeleteDeck}\r\n\t\t\t\t\tdisabled={!name}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"oi oi-trash\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<CardList\r\n\t\t\t\tdeck={deckInfo}\r\n\t\t\t\tdeleteHandler={deleteHandler}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n\t// -------------------END RETURN-----------------\r\n}\r\n//-------------------END FUNCTION AND COMPONENTS-----------------\r\n\r\n//-------------------EXPORT DeckDetails-----------------\r\nexport default DeckDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}